# 大作业前端 Log

## 完成的思路
 &emsp; **1. 首先搭建好前端的代码框架**。在命令行输入`npx create-react-app fe --template typescript`,使用cra创建项目。创建src目录，并进入。<br>&emsp; &emsp; 
 - 在当前src目录下，**修改index.tsx文件**，使其挂载总路由；**创建router.tsx文件**，用来挂载各个页面的路由（尽管页面还没有建立，仅仅先创建文件）；**创建request.ts文件**，用来存放请求报文（尽管后端接口尚未实现，仅仅先创建文件）；**创建type.ts文件**，用来存放接口数据。<br>&emsp; &emsp; 
 - 在src目录下，创建pages文件夹。**在pages目录下，创建所需要的各个页面文件和样式。**包括用来挂载路由的空页面App、登录界面Login、主页面Home、用户信息详情页UserDetail、关于页面About、404页面NotFound以及未登录状态操作提示页面NotValid。<br>&emsp; &emsp; 
 - 在src目录下，创建components文件夹。**在components目录下，创建自定义的组件。**包括表格table的编辑组件Setting和用户详细信息的组件UserInfo。<br>
  
 &emsp; **2. 实现各个页面的基础样式和功能**。根据老师在作业需求中给出的截图和要求，在ant design中查找符合功能且样式相近的组件，导入所需的页面中，并结合react、react-router-dom进行调整、补充与优化。这一步看上去简单，但花费的时间很长，需要仔细琢磨。<br>

 &emsp; **3. 实现各个组件**。在ant design中查找符合功能的组件，并导入自定义的组件中，此外还需要定义接口接受来自父组件的参数。在Setting组件中，需要实现查看用户详细信息、编辑用户信息以及删除用户的功能，分别通过跳转页面、弹出Modal和数据列表遍历实现，代码较长。在UserInfo组件中，只需要将父元素传入的数据一一渲染在列表中即可。<br>

 &emsp; **4. 实现路由与页面间的跳转关系**。在router.tsx中，挂载主路由App页面，将各个页面挂载到子路由上，并将登录界面的路由path设置为`""`。在各个页面中，使用react-router-dom中的**Link组件**和**useNavigate** hook实现各个页面的链接和跳转。<br>

 &emsp; **5. 实现与服务端接口的对接**。在实现好服务端的各个接口后，在request.ts中完成客户端GET报文和POST报文的编写，并在各个页面中加入与服务端的接口对接的代码，实现前后端的连接。<br>

## 遇到的问题

 &emsp; 1. 在实现编辑用户信息和添加成员的Modal时，觉得这两个Modal可以做成一个组件，再将用户信息传入组件中，就可以实现编辑用户信息时Modal有内容，添加成员信息时Modal无内容。但是，用户在输入完数据后，**如何将数据传回父组件**就成了一个很大很大的问题。在思考了很久，查阅了一些资料，尝试了不同的方法后，依旧是个问题。最终，我将组件拆除，将其内容放入调用的原位置，并做了些许修改，添加了多个useState去监视填入的内容，这是一个笨方法，但有效。后来，在同学的讲解下，才知道可以使用redux的资源池，实现数据的共享，但是由于临近提交的时间，自己又熬了大夜，没有精力和时间修改了，如果后续有空闲时间，应该会将其弥补上。<br>

 &emsp; 2. 在实现前端部分的代码和功能时，将每个需要的功能都用前端的代码都实现了。在所有功能实现完了之后，并在思考页面刷新后仍保留修改时，才意识到其实没有必要用前端实现所有功能的。有些功能在借助后端的服务端后，反而会很容易就能够实现。因此可以在我的前端代码中很多绿色的注释掉的代码，那些都是没有必要的。<br>

   